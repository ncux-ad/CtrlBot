# üóëÔ∏è –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É–¥–∞–ª–µ–Ω–∏—é –ø–æ—Å—Ç–æ–≤

## üìã **–ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–æ —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤:**

### ‚úÖ **1. –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
- **–í –ë–î**: –ø–æ—Å—Ç –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ `deleted` (—Å—Ç–∞—Ç—É—Å `deleted`)
- **–í –∫–∞–Ω–∞–ª–µ**: —Å–æ–æ–±—â–µ–Ω–∏–µ —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ Telegram –∫–∞–Ω–∞–ª–∞
- **–ò—Å—Ç–æ—Ä–∏—è**: –ø–æ—Å—Ç –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –ë–î –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ –∞—É–¥–∏—Ç–∞
- **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ**: –º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤ –ë–î

### ‚ö†Ô∏è **2. –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)**
- **–í –ë–î**: –ø–æ—Å—Ç —É–¥–∞–ª—è–µ—Ç—Å—è –Ω–∞–≤—Å–µ–≥–¥–∞
- **–í –∫–∞–Ω–∞–ª–µ**: —Å–æ–æ–±—â–µ–Ω–∏–µ —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ Telegram –∫–∞–Ω–∞–ª–∞  
- **–ò—Å—Ç–æ—Ä–∏—è**: –ø–æ—Å—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ç–µ—Ä—è–µ—Ç—Å—è
- **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ù–ï–í–û–ó–ú–û–ñ–ù–û!

## üéØ **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–¥–∞–ª–µ–Ω–∏—è:**

### **–í —Å–ø–∏—Å–∫–µ "–ú–æ–∏ –ø–æ—Å—Ç—ã":**
- üëÅÔ∏è **1, 2, 3...** - –ø—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π –ø–æ—Å—Ç–∞
- üóëÔ∏è **1, 2, 3...** - —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–µ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö)

### **–í –¥–µ—Ç–∞–ª—è—Ö –ø–æ—Å—Ç–∞:**
- **–î–ª—è —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤**: üì§ –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å, ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
- **–î–ª—è –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö**: ‚è∞ –ò–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è, ‚ùå –û—Ç–º–µ–Ω–∏—Ç—å
- **–î–ª—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö**: üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –∏–∑ –∫–∞–Ω–∞–ª–∞
- **–î–ª—è –≤—Å–µ—Ö**: üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞

## üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

### **1. PostPublisher.delete_message_from_channel()**
```python
async def delete_message_from_channel(self, channel_id: int, message_id: int) -> bool:
    """–£–¥–∞–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –∫–∞–Ω–∞–ª–∞"""
    try:
        await self.bot.delete_message(chat_id=channel_id, message_id=message_id)
        return True
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è: {e}")
        return False
```

### **2. PostService.delete_post()**
```python
async def delete_post(self, post_id: int) -> bool:
    """–£–¥–∞–ª—è–µ—Ç –ø–æ—Å—Ç (–º—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ)"""
    query = """
        UPDATE posts 
        SET status = 'deleted', updated_at = NOW()
        WHERE id = $1
    """
    await db.execute(query, post_id)
    return True
```

### **3. –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è:**
- `callback_view_post()` - –ø—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π –ø–æ—Å—Ç–∞
- `callback_delete_post()` - –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è
- `callback_confirm_delete_post()` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è
- `callback_permanent_delete_post()` - –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ

## üìä **–°—Ç–∞—Ç—É—Å—ã –ø–æ—Å—Ç–æ–≤:**

| –°—Ç–∞—Ç—É—Å | –≠–º–æ–¥–∑–∏ | –û–ø–∏—Å–∞–Ω–∏–µ | –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å? |
|--------|--------|----------|----------------|
| `draft` | üìù | –ß–µ—Ä–Ω–æ–≤–∏–∫ | ‚úÖ |
| `scheduled` | ‚è∞ | –û—Ç–ª–æ–∂–µ–Ω | ‚úÖ |
| `published` | ‚úÖ | –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω | ‚úÖ |
| `deleted` | ‚ùå | –£–¥–∞–ª–µ–Ω | ‚ùå |
| `failed` | ‚ö†Ô∏è | –û—à–∏–±–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ | ‚úÖ |

## üõ°Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**

### **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:**
- –¢–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä –ø–æ—Å—Ç–∞ –º–æ–∂–µ—Ç –µ–≥–æ —É–¥–∞–ª–∏—Ç—å
- –ü—Ä–æ–≤–µ—Ä–∫–∞ `post['user_id'] == callback.from_user.id`
- –ê–¥–º–∏–Ω—ã –º–æ–≥—É—Ç —É–¥–∞–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –ø–æ—Å—Ç—ã

### **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ:**
- –î–≤–æ–π–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ—Å—Ç–∏
- –ü–æ–∫–∞–∑ –¥–µ—Ç–∞–ª–µ–π –ø–æ—Å—Ç–∞ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º

## üéØ **Workflow —É–¥–∞–ª–µ–Ω–∏—è:**

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** –Ω–∞–∂–∏–º–∞–µ—Ç üóëÔ∏è –≤ —Å–ø–∏—Å–∫–µ –ø–æ—Å—Ç–æ–≤
2. **–°–∏—Å—Ç–µ–º–∞** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å –¥–µ—Ç–∞–ª—è–º–∏
3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —É–¥–∞–ª–µ–Ω–∏–µ
4. **–°–∏—Å—Ç–µ–º–∞** —É–¥–∞–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –∫–∞–Ω–∞–ª–∞ (–µ—Å–ª–∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω)
5. **–°–∏—Å—Ç–µ–º–∞** –ø–æ–º–µ—á–∞–µ—Ç –ø–æ—Å—Ç –∫–∞–∫ `deleted` –≤ –ë–î
6. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ

## üìà **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- ‚úÖ **–ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è** - –≤—Å–µ –ø–æ—Å—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –¥–≤–æ–π–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
- ‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å** - –º—è–≥–∫–æ–µ –∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
- ‚úÖ **–ê—É–¥–∏—Ç** - –º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –∫—Ç–æ —á—Ç–æ —É–¥–∞–ª–∏–ª
- ‚úÖ **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** - –º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å

---
*–°–æ–∑–¥–∞–Ω–æ: 13.09.2025*
